2008-03-06  Mario Bensi  <mbensi@pleyo.com>

        Reviewed by durai raj.

        * ChangeLog:
        * Implementations/Internationalization/Generic/BTTextCodecGeneric.cpp:
        (WebCore::BTTextCodec::encode):
        * Implementations/Network/CURL/BCResourceHandleManagerCURL.cpp:
        (BC::BCResourceHandleManagerCURL::setupPOST):
        (BC::BCResourceHandleManagerCURL::startJob):

2008-02-12  Guofan Wang  <wang.guofan@gmail.com>

        Reviewed by Sebastien Roret.

        Added BMP support.

        * ChangeLog:
        * Configuration/BALConfiguration.h:
        * Implementations/ImageDecoders/Generic/BMP: Added.
        * Implementations/ImageDecoders/Generic/BMP/BMPImageDecoder.cpp: Added.
        (BAL::createBCBMPImageDecoder):
        (BC::BMPImageReader::BMPImageReader):
        (BC::BMPImageReader::~BMPImageReader):
        (BC::BMPImageReader::close):
        (BC::BMPImageReader::decode):
        (BC::BMPImageReader::repetitionCount):
        (BC::BMPImageReader::info):
        (BC::BCBMPImageDecoder::BCBMPImageDecoder):
        (BC::BCBMPImageDecoder::~BCBMPImageDecoder):
        (BC::BCBMPImageDecoder::setData):
        (BC::BCBMPImageDecoder::isSizeAvailable):
        (BC::BCBMPImageDecoder::frameCount):
        (BC::BCBMPImageDecoder::repetitionCount):
        (BC::BCBMPImageDecoder::frameBufferAtIndex):
        (BC::BCBMPImageDecoder::decode):
        (BC::BCBMPImageDecoder::bmpComplete):
        (BC::BCBMPImageDecoder::setSize):
        (BC::BCBMPImageDecoder::outputScanlines):
        * Implementations/ImageDecoders/Generic/BMP/BMPImageDecoder.h: Added.
        (BC::BCBMPImageDecoder::frameDurationAtIndex):
        (BC::BCBMPImageDecoder::supportsAlpha):
        (BC::BCBMPImageDecoder::size):
        (BC::BCBMPImageDecoder::):
        * Implementations/ImageDecoders/Generic/BMP/SourcesCMakeLists.txt: Added.
        * Implementations/ImageDecoders/SourcesCMakeLists.txt:

2008-01-23  Frederic Marmond  <fmarmond@pleyo.com>

	Reviewed by Sebastien Roret.

	Fix for bug #190: wrong implementation in stretchBlit, src offset were set
	to zero. Now, they have correct values, in new space (zoomed).

        * Implementations/Graphics/SDL/BCGraphicsDeviceSDL.cpp:
        (BAL::BCGraphicsDeviceSDL::stretchBlit):

2008-01-22  Olivier DOLE <odole@sand-labs.org>

        Reviewed by Sebastien Roret.

        Merge with current WebKit CURL implementation.
        See #195.
        Remove BIResourceHandle and add a BTResourceHandle instead.
        Merge BIResourceHandleManager with current CURL implementation.
        This lead to a lost of our current cookie implementation.
        Fix test network for compilation.

        * Configuration/BALConfiguration.h:
        * Implementations/Network/CURL/BCResourceHandleCURL.cpp: Removed.
        * Implementations/Network/CURL/BCResourceHandleCURL.h: Removed.
        * Implementations/Network/CURL/BCResourceHandleManagerCURL.cpp:
        (BC::BCResourceHandleManagerCURL::BCResourceHandleManagerCURL):
        (BC::BCResourceHandleManagerCURL::~BCResourceHandleManagerCURL):
        (BC::writeCallback):
        (BC::headerCallback):
        (BC::readCallback):
        (BC::BCResourceHandleManagerCURL::downloadTimerCallback):
        (BC::BCResourceHandleManagerCURL::removeFromCurl):
        (BC::BCResourceHandleManagerCURL::setupPOST):
        (BC::BCResourceHandleManagerCURL::add):
        (BC::BCResourceHandleManagerCURL::removeScheduledJob):
        (BC::BCResourceHandleManagerCURL::startScheduledJobs):
        (BC::parseDataUrl):
        (BC::BCResourceHandleManagerCURL::startJob):
        (BC::BCResourceHandleManagerCURL::cancel):
        * Implementations/Network/CURL/BCResourceHandleManagerCURL.h:
        * Implementations/Network/CURL/BTResourceHandleCURL.cpp: Added.
        * Implementations/Network/Common/ResourceError.cpp: Added.
        * Implementations/Network/Common/ResourceHandle.cpp: Added.
        * Implementations/Network/Common/ResourceResponse.cpp: Removed.
        * Implementations/Network/Common/ResourceResponseBase.cpp: Added.
        * Implementations/Network/SourcesCMakeLists.txt:
        * Interfaces/network/BIResourceHandle.h: Removed.
        * Interfaces/network/BIResourceHandleManager.h:
        * Interfaces/network/BTResourceHandle.h: Added.
        * Interfaces/network/ResourceHandle.h:
        * Interfaces/network/ResourceHandleInternal.h: Added.
        * Interfaces/network/ResourceResponse.h:
        * Interfaces/network/ResourceResponseBase.h: Added.
        * Tests/NetworkTests/NetworkTest.cpp:
        (BAL::TestResourceHandleClient::receivedRedirect):
        (BAL::TestResourceHandleClient::receivedData):
        (BAL::TestResourceHandleClient::receivedAllData):
        (BAL::TestResourceHandleClient::didReceiveData):
        (BAL::TestResourceHandleClient::didFinishLoading):
        (NetworkTest::TestNetworkBadURL):
        (NetworkTest::TestNetworkConcurrentTransfer):
        (NetworkTest::TestNetworkPostTransfer):
        (NetworkTest::TestNetworkSimpleTransfer):
        * Tests/NetworkTests/NetworkTestStress.cpp:
        (NetworkTestStress::TestNetworkResourceHandleCreate):
        (NetworkTestStress::TestNetworkResourceHandleCreateMultiple1):
        (NetworkTestStress::TestNetworkResourceHandleCreateMultiple2):
        (NetworkTestStress::TestNetworkResourceHandleContains):
        (NetworkTestStress::TestNetworkResourceHandleContainsMultiple):

2008-01-18  Sebastien Roret  <sroret@pleyo.com>

        Reviewed by Mario Bensi.

	Added executeScript() to the hi level API, in order to run bookmarlets for instance.

        * Interfaces/BIWindow.h:

2008-01-16  Fred  <fmarmond@pleyo.com>

        Reviewed by Sebastien Roret.

	Add DeepSee console support

        * Implementations/Events/SDL/BCEventLoopSDL.cpp:
        (BC::BCEventLoopSDL::BCEventLoopSDL):
        (BC::BCEventLoopSDL::~BCEventLoopSDL):
        (BC::BCEventLoopSDL::WaitEvent):
        * Implementations/Events/SDL/BCEventLoopSDL.h:

2008-01-09  Mario Bensi <mbensi@sand-labs.org> 

        Remove old xml Test and change If condition on LibXML and LibXSLT
        Reviewed by Olivier Dole.

        * CMakeConf.txt:
        * Tests/SourcesCMakeLists.txt:
        * Tests/TestManager/main.cpp:

2008-01-07  Olivier Dole <odole@sand-labs.org>

        Reviewed by NOBODY (OOPS!).
		Tiny improvement in fonts.
		Remove some potential leaks.

        * Implementations/Fonts/Embedded/FontPlatformDataEmbedded.cpp:
        (BAL::BTFontPlatformData::operator==):
		Add another check for embedded fonts
        * Implementations/Fonts/FreeType/BCFontPlatformDataPrivateFreeType.cpp:
        (BAL::BCFontPlatformDataPrivateFreeType::~BCFontPlatformDataPrivateFreeType):
		De-initialize fontconfig with FcFini()
        (BAL::BCFontPlatformDataPrivateFreeType::configureFontconfig):
		Move FcConfigDestroy() => remove a possible leak
        * Implementations/Fonts/FreeType/FontDataFreeType.cpp:
        (BAL::BTFontData::platformInit):
		Use space glyph to compute m_spaceWidth
        (BAL::BTFontData::platformDestroy):
		Use FcPatternDestroy() when necessary
        (BAL::BTFontData::smallCapsFontData):
        * Implementations/Fonts/FreeType/FontPlatformDataFreeType.cpp:
        (BAL::BTFontPlatformData::operator==):
		Coding style

2008-01-04  Olivier Dole <odole@sand-labs.org>

        Reviewed by Sebastien Roret.
		Use SDL hardware surface and double buffering when available.
		This may improve SDL drawing performance.
		See #159.

        * Implementations/Graphics/SDL/BCGraphicsDeviceSDL.cpp:
        (BAL::BCGraphicsDeviceSDL::initialize):
		Check if it is possible to create hardware surface and create one when
		it is available.
        (BAL::BCGraphicsDeviceSDL::update):
		Use SDL_Flip instead of SDL_UpdateRect when double buffering is used.

2008-01-04  SÃ©bastien Roret  <sroret@pleyo.com>

        Reviewed by odole.

	Removed all SDL_SetCursor that dirty the framebuffer.
	Use it only when the cursor changes.
	See #186.

        * ChangeLog: Added.
        * Implementations/Graphics/SDL/CursorSDL.cpp:
        (WebCore::Cursor::Cursor): use SDL_SetCursor only if cursor has
		changed.
        (WebCore::pointerCursor): remove SDL_SetCursor.
        (WebCore::handCursor): remove SDL_SetCursor.
        (WebCore::moveCursor): remove SDL_SetCursor.
        (WebCore::iBeamCursor): remove SDL_SetCursor.

2008-01-04  Julien Chaffraix  <julien.chaffraix@gmail.com>

        Reviewed by fmarmond@pleyo.com

        * Implementations/Network/CURL/BCResourceHandleCURL.cpp:
        (BC::BCResourceHandleCURL::~BCResourceHandleCURL):
        (BC::BCResourceHandleCURL::setupPUT):

        Correct a memory leak in ~BCResourceHandleCURL (m_url is allocated through strdup and was not freed)
        Correct one typo and several coding style issues
