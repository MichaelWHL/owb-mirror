#Copy this file into your project's directory, and include it from your CMakeLists.txt file.
#In your project directory, also create a link to CMakeLists_deepsee.txt (pointing to the path where you installed deepsee, default is /usr/local/include/deepsee/CMakeLists_deepsee.txt)

OPTION (DEEPSEE_ENABLE "Use DeepSee" OFF)
IF (DEEPSEE_ENABLE)
INCLUDE(CheckIncludeFile)
CHECK_INCLUDE_FILE(CMakeLists_deepsee.txt DEEPSEE_INCLUDE)
IF (NOT DEEPSEE_INCLUDE)
    EXECUTE_PROCESS(COMMAND ln /usr/local/include/deepsee/CMakeLists_deepsee.txt ${CMAKE_SOURCE_DIR}/CMakeLists_deepsee.txt -s
			OUTPUT_QUIET
			ERROR_QUIET
			)
ENDIF ( NOT DEEPSEE_INCLUDE)
include(${CMAKE_SOURCE_DIR}/CMakeLists_deepsee.txt)

ELSE(DEEPSEE_ENABLE)
    SET(DEEPSEE_FAKED_DEEPSEE.H "FakedDeepsee.h")
    IF (EXISTS ${DEEPSEE_FAKED_DEEPSEE.H})
        #file already exists
    ELSE (EXISTS ${DEEPSEE_FAKED_DEEPSEE.H})
        #generate the faked header
		MESSAGE(STATUS "Generate ${DEEPSEE_FAKED_DEEPSEE.H}. It's only done once, and may take few minutes (scan all project sources). Please wait!")

        EXECUTE_PROCESS(
            COMMAND bash ${CMAKE_CURRENT_SOURCE_DIR}/deepsee_generateFakedHeader.sh ${DEEPSEE_FAKED_DEEPSEE.H} 
        )

    ENDIF(EXISTS ${DEEPSEE_FAKED_DEEPSEE.H})

    ADD_DEFINITIONS(-DDEEPSEE_INCLUDE=\\"${DEEPSEE_FAKED_DEEPSEE.H}\\")
    
ENDIF(DEEPSEE_ENABLE)
